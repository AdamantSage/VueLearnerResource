<header>
    <nav class="header-nav">
        <a class="header-title" href="/">VueLearnerResource</a>
        <ul class="header-links" id="header-links">
            <li class="header-link"><a href="/login">Login</a></li>
            <li class="header-link"><a href="/register">Register</a></li>
            <li class="header-link"><a href="/dashboard">Dashboard</a></li>
            <% if (userRole === 'Admin') { %>
                <li class="header-link"><a href="/dashboard/new">Upload Video</a></li>
            <% } %>            
            <li class="header-link"><a href="/bursaries">Bursaries</a></li>
            <% if (userRole === 'Admin') { %>
                <li><a class="header-link" href="/bursaries/new">Upload Bursaries</a></li>
                <% } %>
            <br>
            <% if (userRole != null) { %>
                <button class="btn btn-danger" id="logoutButton">Logout</button>
                <% } %>

    </nav>
</header>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
    <button class="close-sidebar" id="close-sidebar">×</button>
    <ul class="sidebar-links">
        <li><a href="/login">Login</a></li>
        <li><a href="/register">Register</a></li>
        <li><a href="/dashboard">Dashboard</a></li>
        <% if (userRole === 'Admin') { %>
            <li><a href="/dashboard/new">Upload Video</a></li>
        <% } %>
        <li><a href="/bursaries">Bursaries</a></li>
        
        <% if (userRole === 'Admin') { %>
        <li><a href="/bursaries/new">Upload Bursaries</a></li>
        <% } %>
        <br>
       </ul>
</div>

<!-- Sidebar Toggle Button -->
<button class="sidebar-toggle" id="toggle-sidebar">☰</button>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const sidebar = document.getElementById("sidebar");
    const toggleSidebar = document.getElementById("toggle-sidebar");
    const closeSidebar = document.getElementById("close-sidebar");

    // Toggle the sidebar open/close when the button is clicked
    toggleSidebar.addEventListener("click", () => {
        sidebar.classList.toggle("open");
    });

    // Close the sidebar when the close button is clicked
    closeSidebar.addEventListener("click", () => {
        sidebar.classList.remove("open");
    });

    // Close the sidebar if the user clicks outside of it
    document.addEventListener("click", (event) => {
        if (!sidebar.contains(event.target) && !toggleSidebar.contains(event.target)) {
            sidebar.classList.remove("open");
        }
    });
});


document.getElementById('logoutButton').addEventListener('click', function() {
    // Make a POST request to logout
    fetch('/logout', { method: 'POST' })
        .then(response => {
            window.location.href = '/login'; // Redirect to login page
        });
});
</script>